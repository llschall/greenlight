/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package org.senegas.trafficlight;

import org.senegas.trafficlight.view.TrafficLightPanel;

import java.awt.EventQueue;
import java.text.MessageFormat;

import javax.swing.JFrame;
import javax.swing.WindowConstants;

import com.fazecast.jSerialComm.*;

public class TrafficLightApp {

    public static final String TITLE = "Traffic Light App";
    public static final String VERSION = "0.1.0";

    public static void main(String[] args) {

        for (SerialPort commPort : SerialPort.getCommPorts()) {
            System.out.println("commPort:" + commPort);
            commPort.openPort();
            if (commPort.isOpen()) {
                System.out.println("HERE opened port = " + commPort.getSystemPortName());
                //break;
            }
        }
        EventQueue.invokeLater(() -> new TrafficLightApp().create());
    }

    private void create() {
        final JFrame f = new JFrame(MessageFormat.format("{0} v{1}", TITLE, VERSION));
        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        f.add(new TrafficLightPanel());
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }
}
